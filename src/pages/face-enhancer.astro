---
import Layout from "../layouts/Layout.astro";
import DropZone from "../components/DropZone.astro";
import ImageGenerator from "../components/ImageGenerator.astro";
---

<Layout title="Face Enhancer">
  <ImageGenerator showLoraSelect={true} apiEndpointWorkflow="/face-enhancer">
    <DropZone slot="image-container" id="dropZone" />
  </ImageGenerator>
</Layout>

<script>
  import { ImageGenerator } from "../lib/imageGenerator";
  import { appState } from "../lib/appState";

  // Inicializar componentes
  const imageGenerator = new ImageGenerator();

  // Configurar callback para imÃ¡genes intermedias
  imageGenerator.setIntermediateImageCallback((imageUrl) => {
    appState.addIntermediateImage(imageUrl);
  });
</script>
